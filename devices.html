<!DOCTYPE html>
<html lang="en">
<head>
    <title>Devices</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/maps/documentation/javascript/demos/demos.css">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.5/css/mdb.min.css"/>
    <link rel="stylesheet" href="./css/project_specific.css">

    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.5/js/mdb.min.js"></script>


    <style>
        /* Set black background color, white text and some padding */
        footer {
            background-color: #555;
            color: white;
            padding: 15px;
        }

        #map {
            height: 400px;
            width: 100%;
        }

        .panel-default {
            margin-left: 0.5%;
            margin-right: 0.5%;
        }

        .well {
            margin-left: 0.5%;
            margin-right: 0.5%;
        }

        .glyphicon-device-status {
            font-size: 30px;
            color: green;
        }


    </style>
</head>
<body>


<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <!--<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
            <!--</button>-->
            <a class="navbar-brand" href="#">Ginger Works Hermes</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li><a href="dashboard.html">Dashboard</a></li>
                <li class="active"><a href="#">Devices</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-menu-hamburger"></span> Settings</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container-fluid text-center">
    <div class="row">
        <div class="col-sm-2 panel panel-default">

            <div class="row panel-heading">
                <h4>Devices</h4>
            </div>
            <div class="panel-body">

                <div class="row" id="devices_panel">


                    <!--<div class="panel panel-default">-->
                    <!--<div class="panel-heading">-->
                    <!--<h4>GPS Tracker 1</h4>-->
                    <!--</div>-->
                    <!--<div class="panel-body">-->
                    <!--<div class="col-sm-3">-->
                    <!--<img src="images/gpstracker.png" class="img-circle" height="55" width="55" alt="Avatar">-->
                    <!--</div>-->
                    <!--<div class="col-sm-9">-->
                    <!--<div class="row">-->

                    <!--<p align="left">-->
                    <!--<span class="glyphicon glyphicon-flash glyphicon-device-status"></span>-->
                    <!--8 Hours of-->
                    <!--Battery available </p>-->

                    <!--</div>-->
                    <!--<div class="row">-->
                    <!--<p align="left"><span-->
                    <!--class="glyphicon glyphicon-ok-sign glyphicon-device-status"></span> All-->
                    <!--Systems Operational </p>-->

                    <!--</div>-->

                    <!--</div>-->
                    <!--</div>-->
                    <!--</div>-->

                </div>
            </div>


        </div>
        <div class="col-md-9 panel panel-default">
            <div class="row panel-heading">
                <h4>Device Details</h4>
            </div>
            <div class="panel-body">
                <div class="well col-sm-3">
                    <h4 align="left">Device Information</h4>

                    <div class="panel-default panel">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Device Username</p>
                                </div>
                                <div class="col-sm-9">
                                    <p id="device_username_text"> No device selected</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Device Name</p>
                                </div>
                                <div class="col-sm-9">
                                    <p id="device_name_test"> - </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Latest Ping</p>
                                </div>
                                <div class="col-sm-9">
                                    <p id="latest_ping_text"> - </p>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>


                <div class="well col-sm-3" id="plug_state_well">
                    <h4 align="left">Plug State</h4>

                    <div class="panel-default panel">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Current State</p>
                                </div>
                                <div class="col-sm-9">
                                    <p> - </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Latest Update</p>
                                </div>
                                <div class="col-sm-9">
                                    <p> - </p>
                                </div>
                            </div>

                            <div class="btn-group">
                                <button type="button" class="btn btn-success">On</button>
                                <button type="button" class="btn btn-danger">Off</button>
                            </div>

                        </div>
                    </div>

                </div>


                <div class="well col-sm-4" id="device_battery_well">
                    <h4 align="left">Battery</h4>

                    <div class="panel-default panel">
                        <div class="panel-body">
                            <div class="col-sm-4">

                                <p align="left">Start Date</p>

                                <input type="date" name="start">


                            </div>
                            <div class="col-sm-4">

                                <p align="left">End Date</p>

                                <input type="date" name="end">


                            </div>
                            <div class="col-sm-3">
                                <button type="button" class="btn btn-primary">Set Time Range</button>
                            </div>

                        </div>
                    </div>

                    <canvas id="lineChart_percentage"></canvas>


                </div>

                <div class="well col-sm-4" id="raw_data_well">
                    <h4 align="left">Raw Data</h4>


                    <div class="list-group">
                        <a href="#" class="list-group-item active">
                            <h4 class="list-group-item-heading">First List Group Item Heading</h4>
                            <p class="list-group-item-text">List Group Item Text</p>
                        </a>
                        <a href="#" class="list-group-item">
                            <h4 class="list-group-item-heading">Second List Group Item Heading</h4>
                            <p class="list-group-item-text">List Group Item Text</p>
                        </a>
                        <a href="#" class="list-group-item">
                            <h4 class="list-group-item-heading">Third List Group Item Heading</h4>
                            <p class="list-group-item-text">List Group Item Text</p>
                        </a>
                    </div>


                </div>

                <div class="well col-sm-4" id="device_location_well">
                    <h4 align="left">Location</h4>

                    <div class="panel-default panel">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Current Coordinates</p>
                                </div>
                                <div class="col-sm-9">
                                    <p> - </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Current Location</p>
                                </div>
                                <div class="col-sm-9">
                                    <p> - </p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3">
                                    <p align="left">Latest Update</p>
                                </div>
                                <div class="col-sm-9">
                                    <p> - </p>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="panel-default panel">
                        <div class="panel-body">
                            <div class="col-sm-4">

                                <p align="left">Start Date</p>

                                <input type="date" name="start" id="trail-start-date">


                            </div>
                            <div class="col-sm-4">

                                <p align="left">End Date</p>

                                <input type="date" name="end" id="trail-end-date">


                            </div>
                            <div class="col-sm-3">
                                <button type="button" class="btn btn-primary" onclick="return map_get_button();">Set
                                    Time Range
                                </button>
                            </div>

                            <script>
                                console.log("Initializing date for... ");
                                var current = new Date();
                                var before = new Date(current.getTime() - 86400000);
                                var followingDay = new Date(current.getTime() + 86400000);
                                var trail_start_date_picker = document.getElementById("trail-start-date");
                                var trail_end_date_picker = document.getElementById("trail-end-date");



                                var before_string = before.toISOString();
                                before_string = before_string.slice(0,before_string.indexOf("T"));
                                trail_start_date_picker.value = before_string;

                                var following_day_string = followingDay.toISOString();
                                following_day_string = following_day_string.slice(0,following_day_string.indexOf("T"));

                                trail_end_date_picker.value = following_day_string; //fucking format is wrong, it has to be year-month-day

                            </script>

                        </div>
                    </div>

                    <div id="map"></div>

                </div>

            </div>

        </div>
    </div>
</div>

<footer class="container-fluid text-center">
    <p>Footer Text</p>
</footer>


<script src="js/devices_page_functions.js"></script>


<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVYK3iQrTq30MLqLO2j7YBqUM36S8Nm9Y&callback=initMap"></script>


</body>
</html>
